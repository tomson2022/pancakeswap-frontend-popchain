# PopChain æµ‹è¯•ç½‘é…ç½®æ›´æ–°è®°å½•

**æ›´æ–°æ—¶é—´**: 2025å¹´10æœˆ30æ—¥  
**Commit**: 561b6df  
**ç‰ˆæœ¬**: v1.1.0

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°å®Œæˆäº† PopChain æµ‹è¯•ç½‘ï¼ˆChain ID: 16042ï¼‰çš„å®Œæ•´é…ç½®å‡çº§ï¼ŒåŒ…æ‹¬ç½‘ç»œåŸºç¡€è®¾æ–½ã€æ™ºèƒ½åˆçº¦åœ°å€ã€ä»£å¸é…ç½®ç­‰æ ¸å¿ƒç»„ä»¶çš„æ›´æ–°ã€‚

## ğŸ”§ æ›´æ–°å†…å®¹

### 1. ç½‘ç»œåŸºç¡€è®¾æ–½æ›´æ–°

| é…ç½®é¡¹ | æ—§å€¼ | æ–°å€¼ |
|--------|------|------|
| **RPC èŠ‚ç‚¹** | `https://testnet-node.popchain.ai` | `https://testnet.popchain.ai` |
| **åŒºå—æµè§ˆå™¨** | `https://scan.popchain.org` | `https://testnetpop.cloud.blockscout.com` |
| **æµè§ˆå™¨åç§°** | `PopScan` | `PopScan Testnet` |

### 2. æ™ºèƒ½åˆçº¦åœ°å€æ›´æ–°

| åˆçº¦ç±»å‹ | æ—§åœ°å€ | æ–°åœ°å€ |
|---------|--------|--------|
| **Multicall2** | `0x264fe686c002520E5c7E8018026C3BcdBf435a26` | `0x502A413621c82AB03AB4Db38A95f5d5E7AeF43E9` |
| **Factory** | `0x4640fce18e1C7A7c105416b50d225F29a3b5797b` | `0x4377421f58B824C9D56CE773d8dde111590db87b` |
| **Router** | `0xd793684055626bdfD1129BF781a2244Bb80956C2` | `0xC138203E3a729342C866c54Bb70A0E852896eE44` |

### 3. ä»£å¸é…ç½®æ›´æ–°

| ä»£å¸ | ç¬¦å· | æ—§åœ°å€ | æ–°åœ°å€ |
|------|------|--------|--------|
| **Wrapped POP** | WPOP | `0x897FE3AFf41Dc5174504361926576ed2e5173F8D` | `0xd04c65bF21ef6609663Cc2B1B9F5E4c1bd22C428` |
| **Tether USD** | USDT | `0x7faD4D267eD3820152afe42A99a2b95797504fA7` | `0x7faD4D267eD3820152afe42A99a2b95797504fA7` âœ… æœªå˜ |

### 4. ä¿æŒä¸å˜çš„é…ç½®

ä»¥ä¸‹é…ç½®ä¿æŒä¸ä¸»ç½‘ç›¸åŒï¼š

- **Init Code Hash**: `0xefee83905acdae3ba6183cb5c058311536b86ef082ec213a50270f068af21b61`
- **Subgraph ç«¯ç‚¹**: `https://subgraph.popchain.ai/subgraphs/name/popchain-v2-swap`
- **Chain ID**: `16042`
- **åŸç”Ÿä»£å¸**: `POP` (18 decimals)

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

### æ ¸å¿ƒé…ç½®æ–‡ä»¶ (10ä¸ª)

1. **`packages/wagmi/chains/chains.ts`**
   - æ›´æ–°é“¾é…ç½®ï¼šRPC URLã€åŒºå—æµè§ˆå™¨ã€Multicall2 åœ°å€
   - å½±å“ï¼šç½‘ç»œè¿æ¥å’Œé’±åŒ…äº¤äº’

2. **`packages/swap-sdk/src/constants.ts`**
   - æ›´æ–° Factory åˆçº¦åœ°å€
   - æ›´æ–° WPOP ä»£å¸åœ°å€
   - å½±å“ï¼šäº¤æ˜“å¯¹åˆ›å»ºå’Œè·¯ç”±è®¡ç®—

3. **`packages/tokens/src/16042.ts`**
   - æ›´æ–°æµ‹è¯•ç½‘ä»£å¸åˆ—è¡¨ä¸­çš„ WPOP åœ°å€
   - å½±å“ï¼šä»£å¸å¯¼å…¥å’Œæ˜¾ç¤º

4. **`packages/multicall/index.ts`**
   - æ›´æ–° Multicall2 åˆçº¦åœ°å€æ˜ å°„
   - å½±å“ï¼šæ‰¹é‡åˆçº¦è°ƒç”¨åŠŸèƒ½

5. **`apps/web/src/config/constants/exchange.ts`**
   - æ›´æ–° Router åˆçº¦åœ°å€
   - å½±å“ï¼šäº¤æ˜“è·¯ç”±å’ŒæµåŠ¨æ€§æ“ä½œ

6. **`packages/smart-router/evm/constants/exchange.ts`**
   - æ›´æ–° Router å’Œ STABLE_SWAP_INFO_ADDRESS
   - å½±å“ï¼šæ™ºèƒ½è·¯ç”±ç®—æ³•

7. **`apps/web/src/config/constants/tokenLists/popchain-default.tokenlist.json`**
   - æ›´æ–°æµ‹è¯•ç½‘ WPOP ä»£å¸æ¡ç›®
   - å½±å“ï¼šé»˜è®¤ä»£å¸åˆ—è¡¨æ˜¾ç¤º

8. **`apps/web/src/config/constants/tokenLists/pancake-default.tokenlist.json`**
   - æ›´æ–°æµ‹è¯•ç½‘ WPOP ä»£å¸æ¡ç›®
   - å½±å“ï¼šPancakeSwap å…¼å®¹ä»£å¸åˆ—è¡¨

9. **`apps/web/src/utils/getTokenLogoURL.ts`**
   - æ›´æ–°ä»£å¸ Logo åœ°å€æ˜ å°„
   - å½±å“ï¼šä»£å¸å›¾æ ‡æ˜¾ç¤º

10. **`apps/web/src/components/PopPrice/PopPrice.tsx`**
    - æ›´æ–° PopPrice ç»„ä»¶ä¸­çš„ WPOP åœ°å€
    - å½±å“ï¼šPOP ä»·æ ¼æ˜¾ç¤ºåŠŸèƒ½

## ğŸ“Š ç»Ÿè®¡æ•°æ®

```
æ€»æ–‡ä»¶æ•°: 10
æ€»ä¿®æ”¹è¡Œæ•°: 32 (16 insertions, 16 deletions)
å½±å“æ¨¡å—: ç½‘ç»œå±‚ã€åˆçº¦å±‚ã€ä»£å¸å±‚ã€UIå±‚
```

## ğŸ” æŠ€æœ¯ç»†èŠ‚

### åœ°å€æ ¡éªŒå’Œæ ¼å¼

æ‰€æœ‰åˆçº¦åœ°å€å‡ä½¿ç”¨ EIP-55 æ ¡éªŒå’Œæ ¼å¼ï¼š
- Multicall2: `0x502A413621c82AB03AB4Db38A95f5d5E7AeF43E9`
- Factory: `0x4377421f58B824C9D56CE773d8dde111590db87b`
- Router: `0xC138203E3a729342C866c54Bb70A0E852896eE44`
- WPOP: `0xd04c65bF21ef6609663Cc2B1B9F5E4c1bd22C428`

### å…¼å®¹æ€§è¯´æ˜

1. **å‘åå…¼å®¹**: ä¸»ç½‘é…ç½®ï¼ˆChain ID: 7257ï¼‰ä¿æŒä¸å˜
2. **è·¨é“¾å…¼å®¹**: æ”¯æŒä¸»ç½‘å’Œæµ‹è¯•ç½‘ä¹‹é—´çš„åˆ‡æ¢
3. **ä»£ç å…¼å®¹**: æ‰€æœ‰æ›´æ”¹å‡åœ¨é…ç½®å±‚é¢ï¼Œæ— éœ€ä¿®æ”¹ä¸šåŠ¡é€»è¾‘

### éªŒè¯ç»“æœ

âœ… **è¯­æ³•æ£€æŸ¥**: æ‰€æœ‰æ–‡ä»¶é€šè¿‡ TypeScript/ESLint æ£€æŸ¥  
âœ… **åœ°å€ä¸€è‡´æ€§**: æ‰€æœ‰æ–‡ä»¶ä¸­çš„åœ°å€ä¿æŒç»Ÿä¸€  
âœ… **é…ç½®å®Œæ•´æ€§**: æ‰€æœ‰å¿…éœ€çš„é…ç½®é¡¹å‡å·²æ›´æ–°  
âœ… **æµ‹è¯•ç½‘æ ‡è¯†**: `testnet: true` æ ‡è®°æ­£ç¡®è®¾ç½®

## ğŸš€ éƒ¨ç½²å»ºè®®

### å¼€å‘ç¯å¢ƒæµ‹è¯•

```bash
# 1. æ¸…ç†ä¾èµ–ç¼“å­˜
rm -rf node_modules/.cache

# 2. é‡æ–°å®‰è£…ä¾èµ–ï¼ˆå¦‚éœ€è¦ï¼‰
npm install
# or
yarn install

# 3. é‡æ–°æ„å»º
npm run build
# or
yarn build

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
# or
yarn dev

# 5. æµ‹è¯•æµ‹è¯•ç½‘è®¿é—®
# è®¿é—® http://localhost:3000/?chainId=16042
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build:production
# or
yarn build:production

# 2. éƒ¨ç½²åˆ°æœåŠ¡å™¨
# ä½¿ç”¨ä½ çš„éƒ¨ç½²è„šæœ¬æˆ– CI/CD æµç¨‹
```

### åŠŸèƒ½æµ‹è¯•æ¸…å•

- [ ] æµ‹è¯•ç½‘é’±åŒ…è¿æ¥
- [ ] æµ‹è¯•ç½‘ RPC èŠ‚ç‚¹è¿æ¥
- [ ] WPOP ä»£å¸æ˜¾ç¤ºå’Œäº¤æ˜“
- [ ] åŒºå—æµè§ˆå™¨é“¾æ¥è·³è½¬
- [ ] Multicall æ‰¹é‡æŸ¥è¯¢åŠŸèƒ½
- [ ] Router äº¤æ˜“åŠŸèƒ½
- [ ] æµåŠ¨æ€§æ·»åŠ /ç§»é™¤
- [ ] POP ä»·æ ¼æ˜¾ç¤º

## ğŸ”— ç›¸å…³é“¾æ¥

- **æµ‹è¯•ç½‘ RPC**: https://testnet.popchain.ai
- **æµ‹è¯•ç½‘æµè§ˆå™¨**: https://testnetpop.cloud.blockscout.com
- **ä¸»ç½‘æµè§ˆå™¨**: https://scan.popchain.ai
- **Subgraph**: https://subgraph.popchain.ai/subgraphs/name/popchain-v2-swap

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®è¿ç§»**: å¦‚æœæœ‰ç”¨æˆ·å·²æ·»åŠ æ—§åœ°å€çš„ WPOPï¼Œéœ€è¦æé†’æ›´æ–°
2. **åˆçº¦éªŒè¯**: ç¡®è®¤æ‰€æœ‰æ–°åˆçº¦åœ°å€åœ¨åŒºå—æµè§ˆå™¨ä¸Šå·²éªŒè¯
3. **åŠŸèƒ½æµ‹è¯•**: éƒ¨ç½²å‰åœ¨æµ‹è¯•ç½‘è¿›è¡Œå®Œæ•´çš„åŠŸèƒ½æµ‹è¯•
4. **ç”¨æˆ·é€šçŸ¥**: å»ºè®®åœ¨å‰ç«¯æ˜¾ç¤ºæ›´æ–°å…¬å‘Š
5. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°ç›¸å…³çš„æŠ€æœ¯æ–‡æ¡£å’Œç”¨æˆ·æŒ‡å—

## ğŸ”„ å›æ»šæ–¹æ¡ˆ

å¦‚éœ€å›æ»šåˆ°æ—§é…ç½®ï¼Œå¯ä»¥ä½¿ç”¨ï¼š

```bash
git revert 561b6df
```

æ—§é…ç½®åœ°å€è®°å½•åœ¨æœ¬æ–‡æ¡£çš„"æ›´æ–°å†…å®¹"éƒ¨åˆ†çš„"æ—§å€¼"åˆ—ä¸­ã€‚

## ğŸ‘¥ æ›´æ–°è´Ÿè´£äºº

- **é…ç½®æ›´æ–°**: AI Assistant
- **èµ„æ–™æä¾›**: Project Team
- **å®¡æ ¸æ‰¹å‡†**: å¾…å®š

## ğŸ“… æ›´æ–°æ—¶é—´çº¿

- **2025-10-30 22:04**: å®Œæˆé…ç½®æ›´æ–°å¹¶æäº¤åˆ° Git
- **2025-10-30 22:05**: åˆ›å»ºæ›´æ–°æ–‡æ¡£
- **å¾…å®š**: éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
- **å¾…å®š**: éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

---

## âœ… å®ŒæˆçŠ¶æ€

- [x] é…ç½®æ–‡ä»¶æ›´æ–°
- [x] Git æäº¤è®°å½•
- [x] æ–‡æ¡£ç¼–å†™
- [ ] æµ‹è¯•ç¯å¢ƒéªŒè¯
- [ ] ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
- [ ] ç”¨æˆ·é€šçŸ¥

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-10-30 22:05  
**ç»´æŠ¤è€…**: Development Team

